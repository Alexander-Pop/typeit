/**
  *
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v6.1.1
  * License: GPL-2.0
  * URL: https://typeitjs.com
  *
  */
"use strict";function _typeof2(a){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof2(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.TypeIt=b())})(void 0,function(){'use strict';function a(b){return a="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(a){return _typeof2(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)},a(b)}function b(){var a=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;this.insert=function(b,c){a.waiting.splice(b,0,c)},this.add=function(b){var c=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return Array.isArray(b[0])?(a.waiting=a.waiting.concat(b),a):(a.waiting[c?"unshift":"push"](b),a)},this.delete=function(b){return a.waiting.splice(b,1),a},this.reset=function(){return a.waiting=a.executed.concat(a.waiting),a.executed=[],a},this.executed=[],this.waiting=b,!b.length&&c&&this.add(c)}function c(a,b){return Math.abs(Math.random()*(a+b-(a-b))+(a-b))}function d(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",c=o("style");c.id=b,c.appendChild(document.createTextNode(a)),document.head.appendChild(c)}function e(){return Math.random().toString(36).substring(2,15)}function f(a){return a.map(function(a){return a.replace(/<\!--.*?-->/g,"")})}function g(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",d=o(a);return b.forEach(function(a){d.setAttribute(a.name,a.value)}),d.innerHTML=c,d}function h(a){var b=w(a),c=y(b);return C(c)}function i(a){var b=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return b?h(a):a.split("")}function j(a,b,d){b=null===b?a/3:b;var e=b/2;return d?[c(a,a/2),c(b,e)]:[a,b]}function k(){var c=this,e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=e.typeIt,l=e.element,m=e.id,s=e.options,t=e.queue,v=void 0===t?[]:t,x=e.isAReset,y=function(){var a=r(c.$e.childNodes).filter(function(a){return!a.isEqualNode(H)});return C(a,!1)},z=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,d=c.opts.nextStringDelay;c.queue.insert(a,[c.pause,d.before]),c.queue.insert(a+b+1,[c.pause,d.after])},A=function(){K||!c.opts.cursor||(d("@keyframes blink-".concat(m," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} }[data-typeit-id='").concat(m,"'] .ti-cursor { animation: blink-").concat(m," ").concat(c.opts.cursorSpeed/1e3,"s infinite; }"),m),H=o("span"),H.innerHTML=w(c.opts.cursorChar).innerHTML,H.className="ti-cursor",H.setAttribute("style","display:inline;position:relative;font:inherit;color:inherit;line-height:inherit;"),c.$e.appendChild(H))};this.wait=function(a,b){this.timeouts.push(setTimeout(a,b))};var B=function(a){c.queue.reset().delete(0).add([c.pause,a.before],!0);for(var b=0;b<y().length;b++)c.queue.add([c.delete,null,{isPhantom:!0}],!0)},G=function(a){var b=c.$e.innerHTML;return b?(c.$e.innerHTML="",c.opts.startDelete?(h(b).forEach(function(a){u(c.$e,a)}),c.queue.add([c.delete,!0]),z(1),a):[b.trim()].concat(a)):a};this.pause=function(){var a=this,b=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return new Promise(function(c){a.wait(function(){return c()},b?b:a.opts.nextStringDelay.total)})},this.reset=function(){return this.queue.reset(),new k({typeIt:g,element:this.$e,id:m,options:this.opts,queue:this.queue.waiting,isAReset:!0})},this.init=function(){var a=this;if(!this.status.started){if(A(),!this.opts.waitUntilVisible)return this.status.started=!0,this.fire();var b=new IntersectionObserver(function(b,c){b.forEach(function(b){b.isIntersecting&&(a.fire(),c.unobserve(a.$e))})},{threshold:1});b.observe(this.$e)}},this.fire=function(){for(var a=this,b=this.queue.waiting.slice(),c=Promise.resolve(),d=function(d){var e=b[d],f=[e,a.queue,g];c=c.then(function(){return new Promise(function(b,c){var d;if(a.status.frozen)return c();if(a.pace=j(a.opts.speed,a.opts.deleteSpeed,a.opts.lifeLike),e[2]&&e[2].isFirst){var g;(g=a.opts).beforeString.apply(g,f)}(d=a.opts).beforeStep.apply(d,f),e[0].call(a,e[1],e[2]).then(function(){var c,d=a.queue.waiting.shift();if(e[2]&&e[2].isPhantom)return b();if(e[2]&&e[2].isLast){var g;(g=a.opts).afterString.apply(g,f)}return(c=a.opts).afterStep.apply(c,f),a.queue.executed.push(d),b()})})})},e=0;e<b.length;e++)d(e);c.then(function(){if(a.opts.loop){var b=a.opts.loopDelay?a.opts.loopDelay:a.opts.nextStringDelay;a.wait(function(){B(b),a.fire()},b.after)}return a.status.completed=!0,void a.opts.afterComplete(g)}).catch(function(){})},this.type=function(b){var c=this;return"object"!==a(b)||b.content?new Promise(function(a){c.wait(function(){return u(c.$e,b),a()},c.pace[0])}):(u(this.$e,b),Promise.resolve())},this.empty=function(){var a=this;return new Promise(function(b){return K?a.$e.value="":r(a.$e.childNodes).forEach(function(a){H.isEqualNode(a)||F(a)}),b()})},this.delete=function(){var a=this,b=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return new Promise(function(c){a.wait(function(){var d=y();return d.length&&F(d[d.length-1]),I(a.$e),b&&0<d.length-1?a.delete(!0).then(function(){return c()}):c()},a.pace[1])})},this.setOptions=function(a){var b=this;return new Promise(function(c){return b.opts=Object.assign({},b.opts,a),c()})};var H=null,K=p(l);this.status={started:!1,complete:!1,frozen:!1,destroyed:!1},this.$e=l,this.timeouts=[],this.opts=Object.assign({},n,s),this.opts.html=!K&&this.opts.html,this.opts.nextStringDelay=J(this.opts.nextStringDelay),this.opts.loopDelay=J(this.opts.loopDelay),this.queue=new b(v,[this.pause,this.opts.startDelay]),this.$e.setAttribute("data-typeit-id",m),d("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),D(l,K);var L=q(this.opts.strings);L=G(L),this.opts.strings=f(L),this.opts.strings.length&&!(void 0!==x&&x)&&function(){c.opts.strings.forEach(function(a,b){var d=i(a,c.opts.html);c.queue.add(E(d,c.type,!0));var e=c.queue.waiting.length;return b+1===c.opts.strings.length?void 0:c.opts.breakLines?(c.queue.add([c.type,o("BR")]),void z(e)):void(c.queue.add(E(d,c.delete)),z(e,a.length))})}()}function l(a,b,c){return!!a.length&&!a.some(function(a){return a.status[b]!==c})}function m(a){return"string"==typeof a?a=document.querySelectorAll(a):!a.forEach&&(a=[a]),r(a)}var n={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},o=function(a){return document.createElement(a)},p=function(a){return-1<["textarea","input"].indexOf(a.tagName.toLowerCase())},q=function(a){return Array.isArray(a)?a:[a]},r=function(a){return[].slice.call(a)},s=function(a,b){var c=a.nextSibling;return!!c&&!c.isEqualNode(b)},t=function(a,b){if(!a)return!1;for(var c=!1,d=[],e=a;!c;)d.push(s(e,b)),e=e.parentNode,(!e||e.hasAttribute("data-typeit-id"))&&(c=!0);return!d.some(function(a){return a})},u=function(b,c){var d=c;if(p(b))return void(b.value="".concat(b.value).concat(d));var e=r(b.childNodes).filter(function(a){return a.classList&&a.classList.contains("ti-cursor")});if(e=e.length?e[0]:null,"object"===a(c)&&!(c instanceof HTMLElement)){var f=c.ancestorTree.slice(0),h=f.reverse().join(" "),i=r(b.querySelectorAll("".concat(h))),j=i[i.length-1];if(j&&t(j,e))b=j,d=c.content;else if(d=g(c.ancestorTree[0],c.attributes,c.content),1<c.ancestorTree.length){var k=r(b.querySelectorAll(c.ancestorTree[1]));b=k[k.length-1]}}d="object"===a(d)?d:document.createTextNode(d),b.insertBefore(d,e&&b.hasAttribute("data-typeit-id")?e:null)},v=function(a){var b=[];return b.concat.apply(b,a)},w=function(a){var b=document.implementation.createHTMLDocument("");return b.body.innerHTML=a,b.body},x=function(a){return r(a.attributes).map(function(a){return{name:a.name,value:a.nodeValue}})},y=function(a){return r(a.childNodes).map(function(a){return 3===a.nodeType?a.nodeValue.split(""):a})},z=function(a,b,c){return{ancestorTree:b,attributes:x(a),content:c}},A=function(a,b){var c=z(a,b,""),d=y(a).map(function(c){return Array.isArray(c)?c.map(function(c){return z(a,b,c)}):c});return d.unshift(c),v(d)},B=function(a){return a instanceof HTMLElement&&"BR"!==a.tagName},C=function a(b){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],d=b.map(function(a){if(B(a)){if(!c)return r(a.childNodes);for(var b=a.parentNode,d=[a.tagName];0>["BODY","HTML"].indexOf(b.tagName);)d.push(b.tagName),b=b.parentNode;return A(a,d)}return a});return d=v(d),d.some(function(a){return B(a)})?a(d,c):d},D=function(a,b){return b?void(a.value=""):void(a.querySelector(".ti-cursor")&&(a.innerHTML=""))},E=function(a,b){var c=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],d=!Array.isArray(a),e=a.length;return a=d?Array(a).fill(0):a,a.map(function(a,f){if(d)return b;var g=[b,a];return c&&(0===f&&g.push({isFirst:!0}),f+1===e&&g.push({isLast:!0})),g})},F=function(a){a.parentNode.removeChild(a)},G=function(a){return 3!==a.nodeType&&"BR"!==a.tagName&&!a.firstChild},H=function(a){return a.some(function(a){return G(a)})},I=function(a){for(var b=r(a.querySelectorAll("*")),c=H(b);b.length&&c;){var d=!1;b.forEach(function(a){G(a)&&(F(a),d=!0)}),d&&(b=r(a.querySelectorAll("*"))),c=H(b)}return b},J=function(a){return Array.isArray(a)||(a=[a/2,a/2]),{before:a[0],after:a[1],total:a[0]+a[1]}};return function(a,b){var c=this;this.instances=m(a).map(function(a){return new k({typeIt:c,element:a,id:e(),options:b,queue:[],isAReset:!1})});var d=function(a){c.instances.forEach(function(b){a.call(c,b)})},f=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;d(function(d){var f="string"!=typeof a,g=f?a:d[a],h=f?c:b,i=E(e,[g,h]);d.queue.add(i)})};this.is=function(a){return l(this.instances,a,!0)},this.freeze=function(){d(function(a){a.status.frozen=!0})},this.unfreeze=function(){d(function(a){a.status.frozen&&(a.status.frozen=!1,a.fire())})},this.type=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return d(function(b){var c=i(a,b.opts.html);b.queue.add(E(c,b.type,!0))}),this},this.delete=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return f("delete",null===a,null===a?1:a),this},this.pause=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return f("pause",a),this},this.break=function(){return f("type",o("BR")),this},this.options=function(a){return f("setOptions",a),this},this.exec=function(a){return f(a),this},this.destroy=function(){var a=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0];this.instances=this.instances.map(function(b){if(b.timeouts.forEach(function(a){clearTimeout(a)}),b.timeouts=[],a){var c=b.isInput?null:b.$e.querySelector(".ti-cursor");c&&b.$e.removeChild(c)}return b.status.destroyed=!0,b})},this.empty=function(){return f("empty"),this},this.reset=function(){return this.destroy(),this.instances=this.instances.map(function(a){return a.reset()}),this},this.go=function(){return d(function(a){a.init()}),this}}});
